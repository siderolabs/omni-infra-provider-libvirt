{
  "type": "object",
  "properties": {
    "cores": {
      "type": "integer",
      "minimum": 1,
      "default": 2
    },
    "memory": {
      "type": "integer",
      "minimum": 2048,
      "default": 4096,
      "description": "Memory size MiB"
    },
    "disk_size": {
      "type": "integer",
      "minimum": 10,
      "default": 20,
      "description": "Disk size in GiB"
    },
    "storage_pool": {
      "type": "string",
      "default": "default",
      "description": "libvirt storage pool name"
    },
    "additional_disks": {
      "type": "array",
      "description": "List of secondary disks.",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "default": "nvme",
            "enum": [
              "sata",
              "nvme"
            ]
          },
          "size": {
            "type": "integer",
            "format": "uint64",
            "minimum": 10,
            "default": 20,
            "description": "Disk size in GiB"
          }
        },
        "required": [
          "type",
          "size"
        ]
      }
    },
    "network_interfaces": {
      "type": "array",
      "description": "List of network interfaces.",
      "default": [
        {
          "driver": "virtio",
          "network_name": "default",
          "physical_address": ""
        }
      ],
      "items": {
        "type": "object",
        "properties": {
          "driver": {
            "type": "string",
            "enum": [
              "virtio",
              "e1000e"
            ],
            "default": "virtio"
          },
          "physical_address": {
            "type": "string",
            "description": "MAC address. If empty or omitted, libvirt will assign one."
          },
          "network_name": {
            "type": "string",
            "description": "libvirt network name. Must exist, the provider will not create it.",
            "default": "default"
          }
        },
        "required": [
          "driver",
          "network_name"
        ]
      }
    }
  },
  "required": [
    "cores",
    "memory",
    "disk_size",
    "storage_pool"
  ]
}